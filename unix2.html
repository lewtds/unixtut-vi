<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <title>UNIX Tutorial Two</title>

  
  
  <link href="unixtut2.css" rel="stylesheet" type="text/css" />

  
  <link href="unixtut2-print.css" rel="stylesheet" type="text/css" media="print" />

  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  
  <meta name="Copyright" content="Michael Stonebank, 1995-2003" />

</head><body>
<div id="container">
<h1>Hướng dẫn 2<br />
 </h1>
<h2>2.1 Sao chép tập tin<br />
</h2>
<h3>cp (copy - sao chép)</h3>


<p><span class="command">cp file1 file2</span>&nbsp;là lệnh dùng để sao chép nội dung tập tin <span style="font-weight: bold;">file1</span> trong thư mục hiện tại sang một tập tin mới và gọi nó là <span style="font-weight: bold;">file2</span><br />
</p>
<p>Bây giờ chúng ta sẽ chọn một tập tin bất kỳ trong hệ thống và sử dụng lệnh&nbsp;<span class="command">cp</span> để sao chép nó về thư mục nhà riêng.<br />
 </p>

<p>Đầu tiên,&nbsp;<span class="command">cd</span> về thư mục <span style="font-weight: bold;">unixstuff</span> của bạn.<br />
</p>

<p class="cli"> % cd ~/unixstuff</p>
<p>Sau đó, gõ<br />
 </p>

<p class="cli"> % cp /etc/hosts . </p>
<p class="hint">Chú ý: Đừng quên dấu chấm . ở cuối. Hãy nhớ, trong UNIX, dấu chấm nghĩa là thư mục hiện tại.<br />
</p>

<p>Lệnh trên nghĩa là chép tập tin <span style="font-weight: bold;">hosts</span> về thư mục hiện tại, giữ nguyên tên tập tin.<br />
 </p>


<h3>Bài tập 2a</h3>
<p><strong><span style="font-weight: normal;">Tạo một bản sao lưu của tập tin <span style="font-weight: bold;">hosts</span> bằng cách sao chép nó sang tập tin <span style="font-weight: bold;">hosts.bak</span></span><br />
</strong> </p>

<h2>2.2 Di chuyển tập tin<br />
</h2>
<h3>mv (move - di chuyển)</h3>
<p><strong><span style="font-weight: normal;"><span class="command">mv file1 file2</span>&nbsp;di chuyển (hoặc đổi tên) <span style="font-weight: bold;">file1</span> thành <span style="font-weight: bold;">file2</span></span><br />
</strong> </p>

<p>Để di chuyển một tập tin từ nơi này sang nơi khác, bạn sử dụng lệnh&nbsp;<span class="command">mv</span>. Lệnh này di chuyển chứ không sao chép tập tin nên cuối cùng bạn sẽ có một chứ không phải hai tập tin.<br />
 </p>

<p>Nhưng nó cũng có thể được dùng để đổi tên tập tin, bằng cách di chuyển đến chính thư mục hiện tại, nhưng với một cái tên khác.<br />
</p>
<p>Bây giờ chúng ta sẽ di chuyển tập tin hosts.bak sang thư mục sao lưu.<br />
 
</p>
<p>First, change directories to your unixstuff directory (can you
remember how?). Then, inside the <strong>unixstuff</strong> directory,
type</p>
<p>Đầu tiên, di chuyển về thư mục unixstuff (bạn còn nhớ cách làm không?). Sau đó, trong thư mục <span style="font-weight: bold;">unixstuff</span>, tạo thư mục <span style="font-weight: bold;">backups</span> rồi di chuyển hosts.bak vào đó<br />
</p>

<p class="cli"> % mv hosts.bak backups/.</p>
<p>Gõ&nbsp;<span class="command">ls</span> và&nbsp;<span class="command">ls backups</span> để xem nó đã hoạt động chưa.<br />
</p>

<h2>2.3 Xóa tập tin và thư mục<br />
 </h2>

<h3>rm (remove - xóa), rmdir (remove directory - xóa thư mục)</h3>

<p>To delete (remove) a file, use the <span class="command">rm</span>
command. As an example, we are going to create a copy of the <strong>science.txt</strong>
file then delete it. </p>
<p> Inside your <strong>unixstuff</strong> directory, type</p>
<p class="cli"> % cp science.txt tempfile.txt<br />
% ls<br />
% rm tempfile.txt <br />
% ls</p>
<p> You can use the <span class="command">rmdir</span> command to
remove a directory (make sure it is empty first). Try to remove the <strong>backups</strong>
directory. You will not be able to since UNIX will not let you remove a
non-empty directory.</p>
<h3>Exercise 2b</h3>
<p>Create a directory called <strong>tempstuff</strong> using <span class="command">mkdir</span> , then remove it using the <span class="command">rmdir</span> command.</p>
<h2>2.4 Displaying the contents of a file on the screen </h2>
<h3>clear (clear screen)</h3>
<p>Before you start the next section, you may like to clear the
terminal window of the previous commands so the output of the following
commands can be clearly understood. </p>
<p> At the prompt, type </p>
<p class="cli"> % clear </p>
<p> This will clear all text and leave you with the % prompt at the top
of the window. </p>
<p>&nbsp;</p>
<h3>cat (concatenate)</h3>
<p>The command cat can be used to display the contents of a file on the
screen. Type: </p>
<p class="cli"> % cat science.txt </p>
<p> As you can see, the file is longer than than the size of the
window, so it scrolls past making it unreadable. </p>
<p>&nbsp;</p>
<h3>less</h3>
<p>The command less writes the contents of a file onto the screen a
page at a time. Type </p>
<p class="cli"> % less science.txt </p>
<p> Press the [<b>space-bar</b>] if you want to see another page, and
type [<b>q</b>] if you want to quit reading. As you can see, <span class="command">less</span> is used in preference to <span class="command">cat</span> for long files. </p>
<p>&nbsp;</p>
<h3>head</h3>
<p>The <span class="command">head</span> command writes the first ten
lines of a file to the screen. </p>
<p> First clear the screen then type </p>
<p class="cli"> % head science.txt </p>
<p> Then type </p>
<p class="cli"> % head -5 science.txt </p>
<p> What difference did the -5 do to the head command? </p>
<p>&nbsp;</p>
<h3>tail</h3>
<p>The <span class="command">tail</span> command writes the last ten
lines of a file to the screen. </p>
<p> Clear the screen and type </p>
<p class="cli"> % tail science.txt </p>
<p> Q. How can you view the last 15 lines of the file? </p>
<p>&nbsp;</p>
<h2>2.5 Searching the contents of a file </h2>
<h3>Simple searching using less</h3>
<p>Using <span class="command">less</span>, you can search though a
text file for a keyword (pattern). For example, to search through <strong>science.txt</strong>
for the word <b>'science'</b>, type </p>
<p class="cli"> % less science.txt </p>
<p> then, still in <span class="command">less</span>, type a forward
slash [<b>/</b>] followed by the word to search</p>
<p class="cli"> /science</p>
<p> As you can see, <span class="command">less</span> finds and
highlights the keyword. Type [<b>n</b>] to search for the next
occurrence of the word. </p>
<p>&nbsp;</p>
<h3>grep (don't ask why it is called grep)</h3>
<p><span class="command">grep</span> is one of many standard UNIX
utilities. It searches files for specified words or patterns. First
clear the screen, then type </p>
<p class="cli"> % grep science science.txt </p>
<p> As you can see, <span class="command">grep</span> has printed out
each line containg the word <b>science</b>. </p>
<p> Or has it ???? </p>
<p> Try typing </p>
<p class="cli"> % grep Science science.txt </p>
<p> The <span class="command">grep</span> command is case sensitive;
it distinguishes between Science and science. </p>
<p> To ignore upper/lower case distinctions, use the -i option, i.e.
type </p>
<p class="cli"> % grep -i science science.txt </p>
<p> To search for a phrase or pattern, you must enclose it in single
quotes (the apostrophe symbol). For example to search for spinning top,
type </p>
<p class="cli"> % grep -i 'spinning top' science.txt </p>
<p> Some of the other options of grep are: </p>
<p> <b>-v </b>display those lines that do NOT match <br />
<b>-n</b> precede each matching line with the line number <br />
<b>-c </b>print only the total count of matched lines <br />
</p>
<p> Try some of them and see the different results. Don't forget, you
can use more than one option at a time. For example, the number of
lines without the words science or Science is</p>
<p class="cli"> % grep -ivc science science.txt </p>
<p>&nbsp;</p>
<h3>wc (word count)</h3>
<p>A handy little utility is the <span class="command">wc</span>
command, short for word count. To do a word count on <strong>science.txt</strong>,
type </p>
<p class="cli"> % wc -w science.txt </p>
<p> To find out how many lines the file has, type </p>
<p class="cli"> % wc -l science.txt </p>
<h2>Summary </h2>
<table align="center" border="1" cellpadding="5" cellspacing="0">
  <tbody>
    <tr>
      <th>Command</th>
      <th>Meaning</th>
    </tr>
    <tr>
      <td class="command">cp <i>file1 file2</i></td>
      <td>copy file1 and call it file2</td>
    </tr>
    <tr>
      <td class="command">mv <i>file1 file2</i></td>
      <td>move or rename file1 to file2</td>
    </tr>
    <tr>
      <td class="command">rm <i>file</i></td>
      <td>remove a file</td>
    </tr>
    <tr>
      <td class="command">rmdir <i>directory</i></td>
      <td>remove a directory</td>
    </tr>
    <tr>
      <td class="command">cat <i>file</i></td>
      <td>display a file</td>
    </tr>
    <tr>
      <td class="command">less <i>file</i></td>
      <td>display a file a page at a time</td>
    </tr>
    <tr>
      <td class="command">head <i>file</i></td>
      <td>display the first few lines of a file</td>
    </tr>
    <tr>
      <td class="command">tail <i>file</i></td>
      <td>display the last few lines of a file</td>
    </tr>
    <tr>
      <td class="command">grep <i>'keyword' file</i></td>
      <td>search a file for keywords</td>
    </tr>
    <tr>
      <td class="command">wc <i>file</i></td>
      <td>count number of lines/words/characters in file</td>
    </tr>
  </tbody>
</table>
<p align="center"><a href="unix1.html"><img src="media/left.gif" alt="Previous" border="0" height="39" width="37" /></a> <a href="index.html"><img src="media/home.gif" alt="Home" border="0" height="39" width="81" /></a><a href="unix3.html"><img src="media/right.gif" alt="Next" border="0" height="39" width="37" /></a></p>
<p align="center">
<script type="text/javascript"><!--
  amazon_ad_tag = "unixtutorialf-20";  amazon_ad_width = "728";  amazon_ad_height = "90";  amazon_ad_logo = "hide";  amazon_ad_link_target = "new";  amazon_ad_price = "retail";  amazon_color_border = "E9ECF5";  amazon_color_link = "0000FF";  amazon_color_logo = "093697";  amazon_ad_categories = "abcdefg";//--></script>
<script type="text/javascript" src="http://www.assoc-amazon.com/s/ads.js" /></p>
<p class="date">M.Stonebank@surrey.ac.uk, © 9th October 2000 </p>
</div>

</body></html>